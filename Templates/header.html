{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Alpha Run Club</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/style.css' %} ">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <style>
        body {
        font-family: 'Poppins', sans-serif;
        }

        .hero {
        background: url('https://images.unsplash.com/photo-1605296867304-46d5465a13f1?auto=format&fit=crop&w=1470&q=80') center center/cover no-repeat;
        color: white;
        height: 90vh;
        display: flex;
        align-items: center;
        position: relative;
        }
        
        .hero .btn {
        margin-right: 10px;
        }

        .feature-icon {
        font-size: 2rem;
        }

        .cta {
        background-color: #dc3545;
        color: white;
        }

        .footer {
        background-color: #111;
        color: white;
        }

        .section-pop:hover {
          transform: scale(1.03);
          box-shadow: 
            0 0 10px rgba(19, 0, 0, 0.4),    
            0 0 25px rgba(84, 31, 37, 0.6);
          transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .section-pop {
          transition: transform 0.3s ease, box-shadow 0.3s ease;
          border-radius: 1rem;
        }

        .slider-wrapper {
          position: relative;
          overflow: hidden;
          width: 100%;
          padding: 0 40px;
        }

        .slider {
          display: flex;
          transition: transform 0.6s ease;
          gap: 10px;
        }

        .why-box {
          flex: 0 0 calc(33.333% - 10px);
          background: #fff;
          border-radius: 12px;
          padding: 40px;
          text-align: center;
          transition: all 0.4s ease;
        }

        .why-box:hover {
          transform: translateY(-6px);
          box-shadow: 0 6px 20px rgba(220, 53, 69, 0.12);
        }

        .navbar {
          min-height: 50px;   /* controls total height */
          padding-top: 0;     
          padding-bottom: 0;  
        }

        .nav-btn {
          position: absolute;
          top: 50%;
          transform: translateY(-50%);
          background: white;
          border: 1px solid #dc3545;
          color: #dc3545;
          padding: 10px 14px;
          cursor: pointer;
          border-radius: 50%;
          z-index: 10;
          transition: 0.3s;
        }

        .nav-btn:hover {
          background: #dc3545;
          color: white;
        }

        .left-btn {
          left: 10px;
        }

        .right-btn {
          right: 10px;
        }

        .coach-img {
          height: 350px;
          width: 100%;
          object-fit: fill;
        }

        /* Indicators */
        .indicators {
          margin-top: 15px;
        }

        .indicator {
          display: inline-block;
          width: 12px;
          height: 12px;
          background: #ccc;
          border-radius: 50%;
          margin: 0 4px;
          cursor: pointer;
          transition: background 0.3s;
        }

        .indicator.active {
          background: #dc3545;
        }

        /* Responsive */
        @media (max-width: 768px) {
          .why-box {
            flex: 0 0 calc(50% - 10px);
          }
        }

        @media (max-width: 480px) {
          .why-box {
            flex: 0 0 100%;
          }
        }
    </style>
 
    <script>
      document.addEventListener("DOMContentLoaded", function () {
      const slider = document.getElementById("whySlider");
      const leftBtn = document.querySelector(".left-btn");
      const rightBtn = document.querySelector(".right-btn");
      const indicatorsContainer = document.getElementById("indicators");

      let currentIndex = 0;
      let visibleBoxes = getVisibleBoxes();
      let interval;

      const totalSlides = slider.children.length;

      // Indicators
      function createIndicators() {
        indicatorsContainer.innerHTML = "";
        for (let i = 0; i <= totalSlides - visibleBoxes; i++) {
          const dot = document.createElement("span");
          dot.classList.add("indicator");
          if (i === 0) dot.classList.add("active");
          dot.addEventListener("click", () => {
            currentIndex = i;
            updateSlider();
          });
          indicatorsContainer.appendChild(dot);
        }
      }

      function getVisibleBoxes() {
        if (window.innerWidth <= 480) return 1;
        if (window.innerWidth <= 768) return 2;
        return 3;
      }

      function updateSlider() {
        const boxWidth = slider.children[0].offsetWidth + 10; // +gap
        slider.style.transform = `translateX(${-currentIndex * boxWidth}px)`;

        // Updating indicators
        document.querySelectorAll(".indicator").forEach((dot, idx) => {
          dot.classList.toggle("active", idx === currentIndex);
        });
      }

      function nextSlide() {
        if (currentIndex < totalSlides - visibleBoxes) {
          currentIndex++;
        } else {
          currentIndex = 0;
        }
        updateSlider();
      }

      function prevSlide() {
        if (currentIndex > 0) {
          currentIndex--;
        } else {
          currentIndex = totalSlides - visibleBoxes;
        }
        updateSlider();
      }

      // Buttons
      rightBtn.addEventListener("click", nextSlide);
      leftBtn.addEventListener("click", prevSlide);

      // Auto slide
      function startAutoSlide() {
        interval = setInterval(nextSlide, 3000);
      }

      function stopAutoSlide() {
        clearInterval(interval);
      }

      // Hover pause
      slider.addEventListener("mouseenter", stopAutoSlide);
      slider.addEventListener("mouseleave", startAutoSlide);

      // Responsive
      window.addEventListener("resize", () => {
        visibleBoxes = getVisibleBoxes();
        createIndicators();
        updateSlider();
      });

      // Init
      visibleBoxes = getVisibleBoxes();
      createIndicators();
      updateSlider();
      startAutoSlide();
    });
    </script> 
</head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top">
  <div class="container">
    <a class="navbar-brand fw-bold text-danger d-flex align-items-center" href="#">
      <img src="/media/image/Logo.png" alt="Alpha Logo" class="me-1" style="height: 45px; width: auto;">
      Alpha Run Club
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="/home">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="/events">Events</a></li>
        <li class="nav-item"><a class="nav-link" href="/apd">Performance Division</a></li>
        <li class="nav-item"><a class="nav-link" href="/contact">Contact Us</a></li>

        {% if user.is_authenticated %}
          <!-- Members Dropdown -->
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="membersDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              Members
            </a>
            <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="membersDropdown">
              <li><a class="dropdown-item" href="/bmi">üèãÔ∏è BMI Calculator</a></li>
              <li><a class="dropdown-item" href="/runtrack">üìà Run Tracker</a></li>
              <!-- <li><a class="dropdown-item" href="/plans">üìÖ Training Plans</a></li>
              <li><a class="dropdown-item" href="/profile">‚öôÔ∏è Profile</a></li> -->
              <li><hr class="dropdown-divider"></li>
              <li><a class="dropdown-item text-danger" href="{% url 'user_logout' %}">üö™ Logout</a></li>
            </ul>
          </li>
        {% else %}
          <li class="nav-item">
            <a class="btn btn-danger ms-2" href="/register">Join Now</a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</nav>
